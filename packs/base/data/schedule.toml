# Base pack schedule
# Each [[slot]] defines a named timeslot available during the week.
# The scheduler evaluates conditions and does weighted random selection.

[[slot]]
name = "free_time"

  [[slot.events]]
  scene     = "base::rain_shelter"
  condition = "gd.week() > 0"
  weight    = 10

  [[slot.events]]
  scene     = "base::morning_routine"
  condition = "gd.week() >= 1"
  weight    = 15

  [[slot.events]]
  scene     = "base::coffee_shop"
  condition = "gd.week() >= 1"
  weight    = 10
  once_only = false

  [[slot.events]]
  scene     = "base::plan_your_day"
  weight    = 0
  trigger   = "gd.week() >= 2"
  once_only = true

# ── Robin opening arc ────────────────────────────────────────────────

[[slot]]
name = "robin_opening"

  [[slot.events]]
  scene     = "base::robin_arrival"
  condition = "gd.hasGameFlag('ROUTE_ROBIN')"
  weight    = 0
  trigger   = "gd.hasGameFlag('ROUTE_ROBIN')"
  once_only = true

  [[slot.events]]
  scene     = "base::robin_landlord"
  condition = "gd.hasGameFlag('ROUTE_ROBIN') && !gd.hasGameFlag('MET_LANDLORD')"
  weight    = 0
  trigger   = "gd.hasGameFlag('ROUTE_ROBIN') && !gd.hasGameFlag('MET_LANDLORD')"
  once_only = true

  [[slot.events]]
  scene     = "base::robin_first_night"
  condition = "gd.hasGameFlag('ROUTE_ROBIN') && gd.arcState('base::robin_opening') == 'arrived'"
  weight    = 0
  trigger   = "gd.hasGameFlag('ROUTE_ROBIN') && gd.arcState('base::robin_opening') == 'arrived'"
  once_only = true

  [[slot.events]]
  scene     = "base::robin_first_clothes"
  condition = "gd.hasGameFlag('ROUTE_ROBIN') && gd.arcState('base::robin_opening') == 'week_one'"
  weight    = 10
  once_only = true

  [[slot.events]]
  scene     = "base::robin_first_day"
  condition = "gd.hasGameFlag('ROUTE_ROBIN') && gd.arcState('base::robin_opening') == 'week_one'"
  weight    = 0
  trigger   = "gd.hasGameFlag('ROUTE_ROBIN') && gd.arcState('base::robin_opening') == 'week_one'"
  once_only = true
